<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get started with blockr.ui • blockr.ui</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="blockr.ui_files/libs/quarto-html/popper.min.js"></script><script src="blockr.ui_files/libs/quarto-html/tippy.umd.min.js"></script><link href="blockr.ui_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="blockr.ui_files/libs/quarto-html/light-border.css" rel="stylesheet">
<script src="blockr.ui_files/libs/quarto-diagram/mermaid.min.js"></script><script src="blockr.ui_files/libs/quarto-diagram/mermaid-init.js"></script><link href="blockr.ui_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started with blockr.ui">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.9.0/mermaid.min.js" integrity="sha512-OAr6bl1pt/FD0oVcuPzJ9VIMso+HQhHoodVI7mnDst19p8rNkNiraPLsDCYVhit3Mjd6B7AUHFsoDhq3dDeI7g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">blockr.ui</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/blockr.ui.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-extend" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Extend</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-extend">
<li><a class="dropdown-item" href="../articles/app-modules.html">Add modules</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BristolMyersSquibb/blockr.ui/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get started with blockr.ui</h1>




      <small class="dont-index">Source: <a href="https://github.com/BristolMyersSquibb/blockr.ui/blob/main/vignettes/blockr.ui.qmd" class="external-link"><code>vignettes/blockr.ui.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bristolmyerssquibb.github.io/blockr.core/" class="external-link">blockr.core</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BristolMyersSquibb/blockr.ui/" class="external-link">blockr.ui</a></span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level2"><h2 id="blockr-ui-for-users">blockr.ui for users<a class="anchor" aria-label="anchor" href="#blockr-ui-for-users"></a>
</h2>
<p>We strived to make it as simple as possible, yet with a totally flexible layout. All panels can be resized and rearranged to your liking.</p>
<section class="level3"><h3 id="the-user-interface">The user interface<a class="anchor" aria-label="anchor" href="#the-user-interface"></a>
</h3>
<p><img src="./figures/blockr-ui.png"></p>
<p>That’s how <code>blockr.ui</code> looks like.</p>
<ol type="1">
<li><p>The top navigation bar contains buttons to import or export any existing work you did before.</p></li>
<li>
<p>The left pipeline panel has a <strong>toolbar</strong> which exposes quick actions such as:</p>
<ul>
<li>adding a new block.</li>
<li>Removing a set of selected blocks.</li>
<li>Saving the current work.</li>
<li>Restore a previous state.</li>
<li>Zoom in or out on the network.</li>
<li>…</li>
</ul>
</li>
<li><p>In the center of the panel is displayed the current blockr pipeline where <strong>blocks</strong> are represented as <strong>nodes</strong> and connections as <strong>edges</strong>. In our example, we have 1 invalid <strong>block</strong> which <strong>state</strong> is depicted as orange. The reason is explained in the bottom right corner of the UI where <strong>error</strong> messages are displayed (in this specific case, the block is missing input data). Blocks can be grouped together within <strong>stacks</strong>, as shown with the grey circle. This is convenient as stacks can be collapsed or expanded, thereby saving significant amount of space in the UI. You can also drag and drop nodes in or out of a stack to add/remove them, respectively. Pretty much all elements on the canvas have a right click action, also known as a <strong>context menu</strong>. For example, right-clicking on a node will show you options to remove it, add another node right after, connect it to another node or add/remove it in the right side dashboard. Right clicking on the canvas will show you options to add a new block or add a new stack. These actions can be customised as explained in the following <a href="app-modules.html">vignette</a>.</p></li>
<li><p>The bottom right corner hosts the <strong>properties</strong> panels. It displays the properties of the any existing block. They can be closed but reappear if you click on the corresponding node in the graph. You can edit these properties directly in the UI, like changing the currently selected data. In future releases, you will be able to change the block name and more.</p></li>
<li><p>You may control <strong>global options</strong> from the top right corner. This opens a menu where some options can be changed, such as the current theme, the dashboard zoom, …</p></li>
<li><p>The right side <strong>dashboard</strong> is a place to add blocks outputs such as plots, tables or any other output that can be produced by a block. You can add blocks to the dashboard by right-clicking on them and selecting “Add to dashboard” and remove them by right-clicking on the dashboard output and selecting “Remove from dashboard”. The dashboard can be resized and each panel can be dragged to rearrange the layout.</p></li>
<li><p>The bottom left corner displays the current pipeline <strong>error logs</strong>.</p></li>
</ol></section></section><section class="level2"><h2 id="blockr-ui-for-developers">blockr.ui for developers<a class="anchor" aria-label="anchor" href="#blockr-ui-for-developers"></a>
</h2>
<p>If you are a developer and want to get a better undestanding of how <code>blockr.ui</code> works, this section is for you. We’ll explain how to run an app and how to customize it.</p>
<section class="level3"><h3 id="run-an-application">Run an application<a class="anchor" aria-label="anchor" href="#run-an-application"></a>
</h3>
<p>To start an app with <code>blockr.ui</code>, you can use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">blockr.dplyr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">blockr.sdtm</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BristolMyersSquibb/blockr.ai" class="external-link">blockr.ai</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">blockr.io</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BristolMyersSquibb/blockr.ui/" class="external-link">blockr.ui</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To customize</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span></span>
<span>  <span class="st">"SNAPSHOT_LOCATION"</span> <span class="op">=</span> <span class="st">"&lt;PATH_TO_SNAPSHOT_LOCATION&gt;"</span>,</span>
<span>  <span class="st">"AUTO_SNAPSHOT"</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_demo_app.html">run_demo_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This code can be deployed on any server that supports R and Shiny, such as Shiny Server or RStudio Connect. You may notice that we load each blockr related package to make blocks available to the end user in the app.</p>
<p>You can also spin up a custom app with existing blocks, links and stacks, like so:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BristolMyersSquibb/blockr.ui/" class="external-link">blockr.ui</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_demo_app.html">run_demo_app</a></span><span class="op">(</span></span>
<span>  blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    a <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_data_block.html" class="external-link">new_dataset_block</a></span><span class="op">(</span><span class="st">"BOD"</span><span class="op">)</span>,</span>
<span>    b <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_data_block.html" class="external-link">new_dataset_block</a></span><span class="op">(</span><span class="st">"ChickWeight"</span><span class="op">)</span>,</span>
<span>    c <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_transform_block.html" class="external-link">new_merge_block</a></span><span class="op">(</span><span class="st">"Time"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  links <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    ac <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_link.html" class="external-link">new_link</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"x"</span><span class="op">)</span>,</span>
<span>    bc <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_link.html" class="external-link">new_link</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"y"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  stacks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This feature is convenient to setup demonstrations apps quickly.</p>
</section><section class="level3"><h3 id="customizing-the-app">Customizing the app<a class="anchor" aria-label="anchor" href="#customizing-the-app"></a>
</h3>
<p><code>blockr.ui</code> can be customized in various ways. In the following we detail the most common ones.</p>
<section class="level4"><h4 id="anatomy-of-blockr-ui">Anatomy of blockr.ui<a class="anchor" aria-label="anchor" href="#anatomy-of-blockr-ui"></a>
</h4>
<p><code>blockr.ui</code> is built on top of <code>blockr.core</code> and uses its functionalities to create a Shiny app. At the root, we have a <strong>board</strong> object which is a collection of blocks, links and stacks. The board is created using <code><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_board.html" class="external-link">blockr.core::new_board()</a></code>.</p>
<div class="cell" data-theme="default" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  subgraph board[Board]
    subgraph stack1[Stack 1]
      direction TB
      blk_1[Block 1]
      blk_2[Block 2]
      blk_1 --&gt; |link| blk_2
    end
  end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>In <code>blockr.ui</code>, we designed a custom board, namely a <code>dag_board</code> object via <code><a href="../reference/run_demo_app.html">new_dag_board()</a></code>.</p>
<p>This allows us to create a custom UI with <code>board_ui.dag_board</code> with a totally different flavor as in the <code>blockr.core</code> version. Below is a summary of the UI components:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/off_canvas.html">off_canvas</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"-offcanvas"</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Board"</span>,</span>
<span>    <span class="va">blocks</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu">board_header</span><span class="op">(</span><span class="va">id</span>, <span class="va">my_board_ui</span><span class="op">)</span>,</span>
<span>  <span class="fu">dockViewOutput</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"-layout"</span><span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="st">"100%"</span>,</span>
<span>    height <span class="op">=</span> <span class="st">"100vh"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu">scoutbar</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s-scoutbar"</span>, <span class="va">id</span><span class="op">)</span>,</span>
<span>    placeholder <span class="op">=</span> <span class="st">"What do you want to do?"</span>,</span>
<span>    showRecentSearch <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>On the server side, we have a <code>board_server.dag_board</code> function which handles the server logic for the board:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/board_server.html" class="external-link">board_server</a></span><span class="op">(</span></span>
<span>  <span class="st">"board"</span>,</span>
<span>  <span class="va">board</span>,</span>
<span>  plugins <span class="op">=</span> <span class="va">plugins</span>,</span>
<span>  callbacks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">modules</span>, <span class="va">board_module_server</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="co"># Callback to signal other modules that the restore is done.</span></span>
<span>      <span class="co"># This allows to restore each part in the correct order.</span></span>
<span>      on_board_restore <span class="op">=</span> <span class="va">board_restore</span>,</span>
<span>      manage_scoutbar <span class="op">=</span> <span class="va">manage_scoutbar</span>,</span>
<span>      layout <span class="op">=</span> <span class="fu"><a href="../reference/handlers-utils.html">build_layout</a></span><span class="op">(</span><span class="va">modules</span>, <span class="va">plugins</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  parent <span class="op">=</span> <span class="va">app_state</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This function works on the board object as well as other elements. <code>callbacks</code> are functions or Shiny modules that are injected in the same namespace as the board server. Unlike callbacks, plugins are submodules of the board, so the namespace is prefixed by the board namespace. <strong>Plugins</strong> and <strong>modules</strong> are detailed below. Finally, the <code>parent</code> argument is used to pass the app <strong>state</strong> object which is used to store the current state of the app and communicate between modules and plugins. We have a specific state method for the <code>dag_board</code> class (see <code>create_app_state()</code>) but you could design your own state object, which would however require to also modify plugins and modules to ensure consistency.</p>
<div class="cell" data-theme="default" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  modules[Modules]
  board_obj[Board object]
  modules --&gt; board_obj
  board_obj --&gt; |serve.dag_board| app

  subgraph app[App]
    plugins[Plugins]
    plugins --&gt; main

    subgraph main[Main module]
      app_state[App state]

      subgraph board[Board module]
        direction LR

        subgraph board_callbacks[Board callbacks]
          direction TB
          board_restore[Restore]
          manage_scoutbar[Scoutbar management]
          layout[Layout management]
        end

        subgraph board_modules[Board modules]
          subgraph dashboard_module[Dashboard module]
          end
        end

        subgraph board_plugins[Board plugins]
          direction LR
          manage_blocks[Manage blocks plugin]
          manage_links[Manage links plugin]
          manage_stacks[Manage stacks plugin]
          generate_code[Generate code plugin]
          notify_user[Notify user plugin]
        end

      end

      board_modules &lt;-.-&gt; |update| app_state
      board_callbacks &lt;-.-&gt; |update| app_state
      board_plugins &lt;-.-&gt; |update| app_state

    end
  end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section><section class="level4"><h4 id="pass-custom-modules">Pass custom modules<a class="anchor" aria-label="anchor" href="#pass-custom-modules"></a>
</h4>
<p>Under the hoods, <code><a href="../reference/run_demo_app.html">run_demo_app()</a></code> serves a <code>dag_board</code> object which is created via <code><a href="../reference/run_demo_app.html">new_dag_board()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_board</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_demo_app.html">new_dag_board</a></span><span class="op">(</span></span>
<span>  blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    a <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_data_block.html" class="external-link">new_dataset_block</a></span><span class="op">(</span><span class="st">"BOD"</span><span class="op">)</span>,</span>
<span>    b <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_data_block.html" class="external-link">new_dataset_block</a></span><span class="op">(</span><span class="st">"ChickWeight"</span><span class="op">)</span>,</span>
<span>    c <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_transform_block.html" class="external-link">new_merge_block</a></span><span class="op">(</span><span class="st">"Time"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  links <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    ac <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_link.html" class="external-link">new_link</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"x"</span><span class="op">)</span>,</span>
<span>    bc <span class="op">=</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_link.html" class="external-link">new_link</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"y"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  stacks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/board-module.html">new_dashboard_module</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_board</span></span>
<span><span class="co">#&gt; &lt;dag_board&lt;board&gt;&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Blocks[3]:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; a&lt;dataset_block&lt;data_block&lt;block&gt;&gt;&gt;</span></span>
<span><span class="co">#&gt; Name: "Dataset block"</span></span>
<span><span class="co">#&gt; No data inputs</span></span>
<span><span class="co">#&gt; Initial block state:</span></span>
<span><span class="co">#&gt;  $ dataset: chr "BOD"</span></span>
<span><span class="co">#&gt;  $ package: chr "datasets"</span></span>
<span><span class="co">#&gt; Constructor: blockr.core::new_dataset_block()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; b&lt;dataset_block&lt;data_block&lt;block&gt;&gt;&gt;</span></span>
<span><span class="co">#&gt; Name: "Dataset block"</span></span>
<span><span class="co">#&gt; No data inputs</span></span>
<span><span class="co">#&gt; Initial block state:</span></span>
<span><span class="co">#&gt;  $ dataset: chr "ChickWeight"</span></span>
<span><span class="co">#&gt;  $ package: chr "datasets"</span></span>
<span><span class="co">#&gt; Constructor: blockr.core::new_dataset_block()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; c&lt;merge_block&lt;transform_block&lt;block&gt;&gt;&gt;</span></span>
<span><span class="co">#&gt; Name: "Merge block"</span></span>
<span><span class="co">#&gt; Data inputs: "x" and "y"</span></span>
<span><span class="co">#&gt; Initial block state:</span></span>
<span><span class="co">#&gt;  $ by   : chr "Time"</span></span>
<span><span class="co">#&gt;  $ all_x: logi FALSE</span></span>
<span><span class="co">#&gt;  $ all_y: logi FALSE</span></span>
<span><span class="co">#&gt; Constructor: blockr.core::new_merge_block()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Links[2]:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ac: a -&gt; c (x)</span></span>
<span><span class="co">#&gt; bc: b -&gt; c (y)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Stacks[1]:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ac&lt;stack[2]&gt;</span></span>
<span><span class="co">#&gt; Name: "Stack 1"</span></span>
<span><span class="co">#&gt; Blocks: "a" and "c"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Options:</span></span>
<span><span class="co">#&gt; &lt;board_options[11]&gt;</span></span>
<span><span class="co">#&gt;   board_name: Board</span></span>
<span><span class="co">#&gt;   n_rows: 50</span></span>
<span><span class="co">#&gt;   page_size: 5</span></span>
<span><span class="co">#&gt;   filter_rows: FALSE</span></span>
<span><span class="co">#&gt;   thematic: NULL</span></span>
<span><span class="co">#&gt;   dark_mode: light</span></span>
<span><span class="co">#&gt;   stack_colors: #A71B4B, #B32A49, #BF3645, #CA433E, #D54E34, ...</span></span>
<span><span class="co">#&gt;   snapshot: FALSE</span></span>
<span><span class="co">#&gt;   show_conditions: warning, error</span></span>
<span><span class="co">#&gt;   blocks_position: NULL, within</span></span>
<span><span class="co">#&gt;   dashboard_zoom: 1</span></span></code></pre></div>
</div>
<p>We use the <code>...</code> to pass blocks, links and stacks to the board. The <code>modules</code> argument is used to attach one or several <strong>modules</strong> to the board. In this case, we use <code><a href="../reference/board-module.html">new_dashboard_module()</a></code> to attach the default dashboard module. We dedicated an entire <a href="app-modules.html">article</a> to explain how to create custom modules.</p>
</section><section class="level4"><h4 id="manage-plugins">Manage plugins<a class="anchor" aria-label="anchor" href="#manage-plugins"></a>
</h4>
<p>As discussed in the <code>blockr.core</code> plugins <a href="https://bristolmyerssquibb.github.io/blockr.core/articles/extend-blockr.html#blockr-plugins" class="external-link">vignette</a>, <strong>plugins</strong> are Shiny modules used to customize/enhance UX aspects of the board module.</p>
<p>To control which plugin to use in the app, you can use the <code><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_plugin.html" class="external-link">blockr.core::plugins()</a></code>, like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_plugins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_plugin.html" class="external-link">plugins</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/preserve_board.html" class="external-link">preserve_board</a></span><span class="op">(</span>server <span class="op">=</span> <span class="va">ser_deser_server</span>, ui <span class="op">=</span> <span class="va">ser_deser_ui</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/manage_blocks.html" class="external-link">manage_blocks</a></span><span class="op">(</span>server <span class="op">=</span> <span class="va">add_rm_block_server</span>, ui <span class="op">=</span> <span class="va">add_rm_block_ui</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/manage_links.html" class="external-link">manage_links</a></span><span class="op">(</span></span>
<span>    server <span class="op">=</span> <span class="fu"><a href="../reference/add_rm_link.html">gen_add_rm_link_server</a></span><span class="op">(</span><span class="va">ctx_menu_items</span><span class="op">)</span>,</span>
<span>    ui <span class="op">=</span> <span class="va">add_rm_link_ui</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/manage_stacks.html" class="external-link">manage_stacks</a></span><span class="op">(</span>server <span class="op">=</span> <span class="va">add_rm_stack_server</span>, ui <span class="op">=</span> <span class="va">add_rm_stack_ui</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/generate_code.html" class="external-link">generate_code</a></span><span class="op">(</span>server <span class="op">=</span> <span class="va">generate_code_server</span>, ui <span class="op">=</span> <span class="va">generate_code_ui</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/notify_user.html" class="external-link">notify_user</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">my_plugins</span></span>
<span><span class="co">#&gt; &lt;plugins[6]&gt;</span></span>
<span><span class="co">#&gt; preserve_board: &lt;preserve_board&lt;plugin&gt;&gt;</span></span>
<span><span class="co">#&gt; manage_blocks: &lt;manage_blocks&lt;plugin&gt;&gt;</span></span>
<span><span class="co">#&gt; manage_links: &lt;manage_links&lt;plugin&gt;&gt;</span></span>
<span><span class="co">#&gt; manage_stacks: &lt;manage_stacks&lt;plugin&gt;&gt;</span></span>
<span><span class="co">#&gt; generate_code: &lt;generate_code&lt;plugin&gt;&gt;</span></span>
<span><span class="co">#&gt; notify_user: &lt;notify_user&lt;plugin&gt;&gt;</span></span></code></pre></div>
</div>
<p><code>blockr.ui</code> improves few of the core modules such as the <code><a href="../reference/add_rm_link.html">gen_add_rm_link_server()</a></code> and <code><a href="../reference/add_rm_link.html">add_rm_link_ui()</a></code> which is responsible for managing node and edges and connections with the <code>g6R</code> <a href="https://cynkra.github.io/g6R/" class="external-link">package</a>. Blocks management is done via the <code><a href="../reference/add_rm_block.html">add_rm_block_server()</a></code> and <code><a href="../reference/add_rm_block.html">add_rm_block_ui()</a></code> modules, which are powered by the <code>scoutbaR</code> <a href="https://cynkra.github.io/scoutbaR/" class="external-link">package</a>. The latter provides a significantly better user experience with a powerful search bar with autocompletion and history management.</p>
<p>Then you can pass any extra plugin you developed as long as they belong to the one handled by <code>block.core</code>. The full list of available plugins can be found by running <code><a href="https://bristolmyerssquibb.github.io/blockr.core/reference/new_plugin.html" class="external-link">board_plugins()</a></code>. You’ll notice that <code>blockr.ui</code> does not yet use <code>edit_block</code> or <code>edit_block</code> plugins.</p>
</section></section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Granjon, Nicolas Bennett, Christoph Sax.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
